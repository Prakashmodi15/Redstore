<!DOCTYPE html>
<html lang="en">


    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"><!--we have added this view port tag and set initial scale to 1 so that our side shoudl be adjustable according to different devices especially for mobile devices-->
        <title>RedStore | The #1 Ecommerce Website </title>
        <link rel="stylesheet" href="CSS/style.css"> 
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"><!--poppins font from google fonts website then select popping select some types and then embed-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><!--link to connect to font awesome 4 to use different icons, just type font awesome 4 cdn and click on first link and copy the url and past it here with rel="stylesheet"-->
    </head>

<body>

<!-- ================= NAVBAR ================= -->
<div class="container">
    <div class="navbar">
        <div class="logo">
            <img src="images/logo.png" width="125px">
        </div>

        <nav>
            <ul id="MenuItems">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
                <li><a href="account.html">Account</a></li>
            </ul>
        </nav>

        <img src="images/cart.png" width="30px" height="30px">
        <img src="images/menu.png" class="menu-icon" onclick="menutoggle()">
    </div>
</div>

<!-- ================= PRODUCTS ================= -->
<div class="small-container">

    <div class="row row-2">
        <h2>All Products</h2>
        <select>
            <option>Default Sorting</option>
            <option>Sort by Price</option>
            <option>Sort by Latest</option>
        </select>
    </div>

    <!-- üî• Firebase products yahin aayenge -->
    <div class="row" id="product-list"></div>

</div>

<!-- ================= FOOTER ================= -->
<div class="footer">
    <div class="container">
        <div class="row">

            <div class="footer-col-1">
                <h3>Download Our App</h3>
                <p>Download App for Android and iOS mobile phone.</p>
                <div class="app-logo">
                    <img src="images/play-store.png">
                    <img src="images/app-store.png">
                </div>
            </div>

            <div class="footer-col-2">
                <img src="images/logo-white.png">
                <p>Our purpose is to sustainably make the pleasure and benefits of sports accessible to the many.</p>
            </div>

            <div class="footer-col-3">
                <h3>Useful Links</h3>
                <ul>
                    <li>Coupons</li>
                    <li>Blog Post</li>
                    <li>Return Policy</li>
                    <li>Join Affiliate</li>
                </ul>
            </div>

            <div class="footer-col-4">
                <h3>Follow Us</h3>
                <ul>
                    <li>Facebook</li>
                    <li>Twitter</li>
                    <li>Instagram</li>
                    <li>YouTube</li>
                </ul>
            </div>

        </div>

        <hr>
        <p class="copyright">Copyright 2025 - Made with ‚ù§Ô∏è by Prakash Modi</p>
    </div>
</div>

<!-- ================= MENU TOGGLE ================= -->
<script type="module">
import { initializeApp } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, onSnapshot, query, orderBy }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBe6T75YFS3MACQ1Drmrrj6xeRlMIwT7s4",
  authDomain: "myshop-1dbc9.firebaseapp.com",
  projectId: "myshop-1dbc9",
  storageBucket: "myshop-1dbc9.appspot.com",
  messagingSenderId: "81466489688",
  appId: "1:81466489688:web:e225da8670b2314dd1432d"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const productList = document.getElementById("product-list");
const sortSelect = document.querySelector("select");

let currentQuery = collection(db,"products");

function load(q){
  onSnapshot(q,snap=>{
    productList.innerHTML="";
    snap.forEach(d=>{
      const p=d.data();
      productList.innerHTML+=`
        <div class="col-4">
          <img src="${p.image}">
          <h4>${p.name}</h4>
          <p>‚Çπ${p.price}</p>
        </div>
      `;
    });
  });
}

load(currentQuery);

sortSelect.addEventListener("change",()=>{
  if(sortSelect.value==="Sort by Price"){
    load(query(collection(db,"products"),orderBy("price","asc")));
  }
  else if(sortSelect.value==="Sort by Latest"){
    load(query(collection(db,"products"),orderBy("createdAt","desc")));
  }
  else{
    load(collection(db,"products"));
  }
});
</script>

</body>
</html>
